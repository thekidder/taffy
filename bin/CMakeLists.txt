CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

#needed to install libraries
FIND_PACKAGE(SORE REQUIRED)
FIND_PACKAGE(FMODEX REQUIRED)

ADD_SUBDIRECTORY(data)

INSTALL(FILES settings.ini DESTINATION . CONFIGURATIONS Release RelWithDebInfo "")
INSTALL(FILES settings_debug.ini DESTINATION . CONFIGURATIONS Debug)
INSTALL(DIRECTORY logs DESTINATION . )

IF(WIN32)
  IF(SORE_DYNAMIC_LIB)
    #install debug and release SORE DLLs
    INSTALL(FILES ${SORE_DLL_DEBUG} DESTINATION . CONFIGURATIONS Debug)
    INSTALL(FILES ${SORE_DLL_RELEASE} DESTINATION . CONFIGURATIONS Release)
  ENDIF()
  #install other required DLLs
  INSTALL(FILES zlib1.dll SDL.dll glew32.dll fmodex.dll freetype.dll DESTINATION .)
ELSE()
  INSTALL(FILES ${FMODEX_LIBRARY} DESTINATION lib/)
  IF(SORE_DYNAMIC_LIB)
    INSTALL(FILES ${SORE_LIBRARY_DEBUG} DESTINATION lib/ CONFIGURATIONS Debug)
    INSTALL(FILES ${SORE_LIBRARY_RELEASE} DESTINATION lib/ CONFIGURATIONS Release)
  ENDIF()
ENDIF()
